<form class="formulario-post" (ngSubmit)="onSubmit()" [formGroup]="postForm">
  <div class="campos-post">
    <input type="text" placeholder="TÃ­tulo" formControlName="title" />
    <textarea placeholder="DescripciÃ³n (admite cÃ³digo)" formControlName="content"></textarea>
    <input type="text" placeholder="Etiquetas (separadas por comas)" formControlName="tags" />
  </div>

  <div class="adjuntos">
    <h3>Adjuntos</h3>
    <input type="file" #fileInput (change)="onFileSelected($event)" accept=".pdf,.doc,.docx,.txt" hidden formControlName="attachments" />
    <a (click)="fileInput.click()" class="opcion-adjunto">
      <i class="icono archivo">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-file">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M14 3v4a1 1 0 0 0 1 1h4" />
          <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
        </svg>
      </i>
      <span class="texto-opcion">Subir archivo</span>
    </a>

    <input type="file" #imageInput (change)="onImageSelected($event)" accept="image/*" hidden formControlName="image" />
    <a (click)="imageInput.click()" class="opcion-adjunto">
      <i class="icono imagen">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-photo">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M15 8h.01" />
          <path d="M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z" />
          <path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5" />
          <path d="M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3" />
        </svg>
      </i>
      <span class="texto-opcion">AÃ±adir imagen</span>
    </a>
    <!-- Vista previa de imagen -->
    <div *ngIf="imagePreview" class="preview-container">
      <h4>Vista previa de imagen:</h4>
      <img [src]="imagePreview" alt="Preview" class="image-preview" />
      <button type="button" (click)="removeImage()" class="btn-remove">âœ• Quitar imagen</button>
    </div>
    
    <!-- Lista de archivos adjuntos -->
    <div *ngIf="selectedFiles.length > 0" class="archivos-adjuntos">
      <h4>Archivos adjuntos:</h4>
      <ul>
        <li *ngFor="let file of selectedFiles; let i = index">
          ðŸ“Ž {{ file.name }} ({{ (file.size / 1024).toFixed(2) }} KB)
          <button type="button" (click)="removeFile(i)" class="btn-remove-file">âœ•</button>
        </li>
      </ul>
    </div>
  </div>



  <app-button type="submit" [label]="'Publicar'"></app-button>
</form>