<article class="post-card" *ngIf="post">
  <header class="post-card__header">
    <div class="post-card__header-avatar">
      <img
        [src]="getAuthorAvatar()"
        [alt]="getAuthorName()">
    </div>
    <div class="post-card__header-info">
      <h2>{{ getAuthorName() }}</h2>
      <p>{{ post.createdAt | date: 'short' }}</p>
    </div>
    <button (click)="onDeletePost()" class="btn-delete-post" [class.hidden]="!isPostByCurrentUser()">Eliminar post</button>
  </header>
  <div class="post-card__content">
    <h3 *ngIf="post.title">{{ post.title }}</h3>
    <p>{{ post.content }}</p>
    <img *ngIf="post.image" [src]="post.image.url" alt="{{ post.image.filename }}" class="post-card__image">
  </div>
  <footer class="post-card__footer">
    <div class="post-card__footer-like" (click)="onLike()" [class.liked]="isLikedByCurrentUser()">
      <span class="post-card__footer-like-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-heart">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
        </svg>
      </span>
      <small>{{ post.likes.length }}</small>
    </div>
    <div class="post-card__footer-comment">
      <span class="post-card__footer-comment-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-message">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M8 9h8" />
          <path d="M8 13h6" />
          <path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z" />
        </svg>
      </span>
      <small>{{ post.comments.length }}</small>
    </div>
    <div class="post-card__footer-share" (click)="onShare()">
      <span class="post-card__footer-share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-share">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
          <path d="M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
          <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
          <path d="M8.7 10.7l6.6 -3.4" />
          <path d="M8.7 13.3l6.6 3.4" />
        </svg>
      </span>
    </div>
  </footer>
</article>